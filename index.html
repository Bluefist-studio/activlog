<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ActivLog</title>
  <link rel="stylesheet" href="style.css?v=4">
<link rel="stylesheet" href="pipboyb.css">
</head>
<body class="pipboy-theme">


<div id="terminal">



<div id="header">
  <pre class="ascii-logo">ActivLog</pre>
</div>


  <!--<div id="header">ActiveLog</div>-->


<div id="dailyQuote" class="quote"></div>
<div id="promoMessage" class="promo"></div>




  <!-- LOGIN/CREATE VIEW -->
  <div id="loginView" class="view">
    <div class="line">USERNAME:</div>
    <input id="loginUser" autocomplete="off">

    <div class="line">EMAIL:</div>
    <input id="loginEmail" type="email" autocomplete="off">

    <div class="line">PIN:</div>
    <input id="loginPin" type="password">

    <button id="loginBtn">LOGIN</button>
    <button id="createBtn">CREATE USER</button>
    <div id="loginError" class="error"></div>
  </div>


<div id="healthInfoPanel" class="hidden">
  <div class="pip-title">HEALTH SYSTEM</div>
  <div class="pip-item">Base: 1%</div>
  <div class="pip-item">Social: +1% per follower/following (max 20%)</div>
  <div class="pip-item">Streak: weighted 40%</div>
  <div class="pip-item">Activity: weighted 60%</div>
</div>


<div id="healthBarWrapper" style="display:none; margin-bottom: 10px;">
  <div id="healthBarLabel"></div>
<div id="healthBarContainer">
    <div id="healthBarFill"></div>
</div>
</div>



  <!-- APP VIEW -->
  <div id="appView" class="view hidden">

    <div id="menu">
      <button data-action="log" class="active"> Log Activity</button>
      <button data-action="history"> History</button>
      <button data-action="stats"> Statistics</button>
      <button data-action="profile"> Profile</button>
    </div>





<div class="pipboy-modal hidden" id="activityModal">
  <div class="modal-content">
    <div class="modal-title">ENTER ACTIVITY</div>

    <input id="modalActivityInput" autocomplete="off">

    <div id="modalDropdown" class="modal-dropdown"></div>

    <button id="modalAddBtn">Confirm</button>
    <button id="modalCloseBtn">Cancel</button>
  </div>
</div>

<div id="menuAnchor"></div>

    <div id="screen"></div>

<!-- Inline Activity Logging Form -->
<div id="activityForm" class="view hidden">
  <div class="line">Activity:</div>

  <input id="activityType" list="activitySuggestions">
  <datalist id="activitySuggestions"></datalist>

  <div class="line">Minutes:</div>
  <input id="activityDuration" type="number">

  <div class="line">Date:</div>
  <input id="activityDate" type="date">
  
  <div class="line">Notes (optional):</div>
  <input id="activityNotes">
  
  <div class="confirm-row">
    <button id="addActivityBtn">Add Activity</button>
    <button id="savechangesBtn">Save Changes</button>
    <button id="cancelEditWindowBtn" class="hidden">Cancel</button>
    <button id="deleteActivityBtn" class="hidden">Delete Activity</button>
  </div>
</div>



<div id="friendControls" class="hidden">
  <input id="friendUsername" placeholder="Enter username">

  <div class="button-row">
    <button onclick="addFriendByUsername()">Follow</button>
    <button onclick="unfollowByUsername()">Unfollow</button>
  </div>
</div>





    <!-- Profile Form -->
    <div id="profileForm" class="view hidden">
      <div class="line">Change Username:</div>
      <input id="profileUsername">

      <div class="line">Change PIN:</div>
      <input id="profilePin" type="password">

      <button id="saveProfileBtn">Save</button>
      <button data-action="switch"> Switch User</button>

      <div id="profileMessage" class="line"></div>
    </div>



<div id="deleteForm" class="view hidden">
  <div class="line">Enter Activity # to edit:</div>
  <input id="editIndex" inputmode="numeric">

  <div class="confirm-row">
    <button id="editBtn">Edit</button>
    <button id="cancelEditWindowBtn">Cancel</button>
  </div>
</div>



<div class="pip-status">
  <span class="pip-dots"></span><br>
  Initialized.161.PIP3B.ACTLG
</div>


  </div>

</div>

<!-- Firebase SDKs -->
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>

<script>
  const firebaseConfig = {
    apiKey: "AIzaSyBe_0oWH02bKiXSpOz3IlHtYuJSbMesVz0",
    authDomain: "activlog-data.firebaseapp.com",
    projectId: "activlog-data",
    storageBucket: "activlog-data.firebasestorage.app",
    messagingSenderId: "133406753052",
    appId: "1:133406753052:web:7235a682366924334d3ad9",
    measurementId: "G-BRVDJ841WX"
  };

  firebase.initializeApp(firebaseConfig);
  window.auth = firebase.auth();
  window.db = firebase.firestore();
</script>

<script src="app.js"></script>
</body>
</html>
